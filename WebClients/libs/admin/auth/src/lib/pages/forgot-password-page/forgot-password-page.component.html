<nz-alert
    *ngIf="errorMessage"
    data-cy="submit-error"
    nz-row
    nzType="error"
    nzCloseable
    [nzMessage]="errorMessage"
>
</nz-alert>

<form nz-form [formGroup]="form" class="login-form" (ngSubmit)="submitForm()">
    <nz-form-item>
        <nz-form-control [nzErrorTip]="emailErrorTpl">
            <nz-input-group nzPrefixIcon="user">
                <input
                    data-cy="email"
                    type="text"
                    nz-input
                    formControlName="email"
                    placeholder="Email"
                />
            </nz-input-group>
            <ng-template #emailErrorTpl let-control>
                <span
                    data-cy="email-required-error"
                    *ngIf="control.hasError('empty')"
                >
                    E-mail is required!
                </span>
                <span
                    data-cy="email-invalid-error"
                    *ngIf="control.hasError('email')"
                >
                    The input is not valid E-mail!
                </span>
            </ng-template>
        </nz-form-control>
    </nz-form-item>
    <button
        [nzLoading]="isSubmitting"
        [disabled]="form.invalid"
        data-cy="submit"
        nz-button
        class="login-form-button login-form-margin"
        [nzType]="'primary'"
    >
        Send reset password email
    </button>
    Or <a data-cy="login-button" routerLink="../login"> Login </a>
</form>
